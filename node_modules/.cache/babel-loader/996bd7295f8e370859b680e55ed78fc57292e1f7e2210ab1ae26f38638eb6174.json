{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\employee\\\\Palatial-Web-Loading\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { isDesktop, isIPad13, isTablet, isMobile, osName, browserName } from 'react-device-detect';\nimport './App.css';\nimport logoPng from './assets/Images/png/Palatial-Logo_White 1.png';\nimport ProgressBar from './components/ProgressBar';\nimport useDeviceDetect from './hooks/useDeviceDetect';\nimport handleSubmit from './utils/handleSubmit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar libspsfrontend = require(\"backend-dom-components\");\nvar NativeDOMDelegate_1 = require(\"./NativeDOMDelegate\");\nfunction App() {\n  _s();\n  // State management\n  const {\n    device\n  } = useDeviceDetect();\n  const [popUpVisible, setPopUpVisible] = useState(true);\n  /*const { serverResponseMessage, popUpVisible, checkPassword } = usePasswordValidation();*/ //password validation resutl from server\n  const [userName, setUserName] = useState('');\n  const [firstTimeUser, setFirstTimeUser] = useState(null);\n  const [activeButton, setActiveButton] = useState(null);\n  const [consentAccepted, setConsentAccepted] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [step, setStep] = useState(0);\n  const [formStep, setFormStep] = useState(1);\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [isInputFocused, setInputFocused] = useState(false);\n  // add the names of the actual loading steps to the following and change the progress bar step value to 100/# of actual steps at :89 and :96\n  const loadingSteps = ['Loading assets', 'Setting up', 'Connecting to server', 'Finalizing', 'Done']; // Add your loading steps here\n  const stepTimeoutRef = useRef();\n\n  //uncomment this block for passing password validation msg in order to trigger window fadeout\n\n  /*const checkPassword = async (password) => {\r\n    // simulate a call to the server to check the password\r\n    const passwordIsCorrect = await someServerFunction(password);\r\n     setPopUpVisible(false);\r\n    if (!passwordIsCorrect) {\r\n      setServerResponseMessage('Password incorrect, please try again');\r\n    } else {\r\n      setServerResponseMessage('Success!');\r\n      setPopUpVisible(false); // hides the PopUp div\r\n    }\r\n  };*/\n\n  var signallingServerAddress = '';\n  if (signallingServerAddress == '') {\n    // define our signallingServerProtocol to be used based on whether\n    // or not we're accessing our frontend via a tls\n    var signallingServerProtocol = 'ws:';\n    if (window.location.protocol === 'https:') {\n      signallingServerProtocol = 'wss:';\n    }\n    var application = window.location.hostname.split('.');\n    if (application.length === 0 || /^[a-zA-Z0-9]+$/.test(application[0])) {\n      application = \"demo\";\n    }\n    // build the websocket endpoint based on the protocol used to load the frontend\n    signallingServerAddress = signallingServerProtocol + '//' + 'sps.tenant-palatial-platform.lga1.ingress.coreweave.cloud/' + application;\n    // if the frontend for an application is served from a base-level domain\n    // it has a trailing slash, so we need to account for this when appending the 'ws' for the websocket ingress\n    signallingServerAddress += '/ws';\n    console.log(signallingServerAddress);\n  }\n  if (isMobile()) {\n    //document.getElementById('fullscreen-btn').style.display = 'flex';\n    document.querySelector('.tooltiptext').style.opacity = '0';\n  }\n  var epicRegex = /\\/([a-zA-Z0-9_-]+)\\/ws$/;\n  var app = signallingServerAddress.match(epicRegex);\n  // prep the player div element\n  var playerElement = document.getElementById(\"player\");\n  // Create a config object\n  var config = CreateConfig(signallingServerAddress, playerElement);\n  config.enableSpsAutoConnect = true;\n  config.enableSpsAutoplay = true;\n  config.controlScheme = libspsfrontend.ControlSchemeType.HoveringMouse;\n  config.suppressBrowserKeys = true;\n  config.afkTimeout = 600;\n  config.fakeMouseWithTouches = false;\n  document.body.onload = function () {\n    /*document.getElementById('join').addEventListener('click', () => {\r\n        console.log('whaaa');\r\n    });*/\n  };\n\n  // Create a Native DOM delegate instance that implements the Delegate interface class\n  var delegate = new NativeDOMDelegate_1.NativeDOMDelegate(config);\n  if (app) delegate.appName = app[1];\n  // Create and return a new webRtcPlayerController instance\n  var RTCPlayer = create(config, delegate);\n  // create takes in a delegate interface type which our NativeDomDelegate class implements\n  function create(config, delegate) {\n    return new libspsfrontend.webRtcPlayerController(config, delegate);\n  }\n  /*\r\n  document.addEventListener(\"touchmove\", (event: TouchEvent) => {\r\n      event.preventDefault();\r\n  }, { passive: false });\r\n  */\n  // Create a config object instance\n  function CreateConfig(signalingAddress, playerElement) {\n    var config = new libspsfrontend.Config(signalingAddress, playerElement, isMobile());\n    return config;\n  }\n  // On a touch device we will need special ways to show the on-screen keyboard.\n  if ('ontouchstart' in document.documentElement) {\n    config.isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\n    createOnScreenKeyboardHelpers(playerElement);\n  }\n  function createOnScreenKeyboardHelpers(htmlElement) {\n    var hiddenInput = null;\n    var editTextButton = null;\n    if (document.getElementById('hiddenInput') === null) {\n      hiddenInput = document.createElement('input');\n      hiddenInput.id = 'hiddenInput';\n      //hiddenInput.maxLength = 0;\n      hiddenInput.type = 'text';\n      hiddenInput.autocomplete = \"off\";\n      hiddenInput.autocapitalize = \"off\";\n      if (!config.isIOS) hiddenInput.style.width = \"0px\";\n      htmlElement.appendChild(hiddenInput);\n    }\n    hiddenInput.addEventListener('input', function (event) {\n      if (hiddenInput.value.length > 1) {\n        hiddenInput.value = hiddenInput.value.slice(1);\n      }\n      var lastChar = hiddenInput.value[0];\n      if (!config.isIOS && event.inputType != 'deleteContentBackward') document.onkeypress(new KeyboardEvent(\"keypress\", {\n        charCode: lastChar.charCodeAt(0)\n      }));\n    });\n    hiddenInput.addEventListener('keydown', function (event) {\n      if (event.keyCode === 13) {\n        // check if the key pressed is \"Enter\"\n        hiddenInput.blur(); // remove the focus from the input element\n      }\n    });\n\n    if (document.getElementById('editTextButton') === null) {\n      editTextButton = document.createElement('button');\n      editTextButton.id = 'editTextButton';\n      editTextButton.innerHTML = 'edit';\n      htmlElement.appendChild(editTextButton);\n      // Hide the 'edit text' button.\n      editTextButton.classList.add('hiddenState');\n      editTextButton.addEventListener(\"touchend\", function (e) {\n        hiddenInput.focus();\n        hiddenInput.setSelectionRange(hiddenInput.value.length, hiddenInput.value.length);\n        editTextButton.classList.add('hiddenState');\n        e.preventDefault();\n      });\n    }\n    libspsfrontend.DataChannelController.hiddenInput = hiddenInput;\n    libspsfrontend.DataChannelController.editTextButton = editTextButton;\n  }\n  function isMobile() {\n    var check = false;\n    (function (a) {\n      if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n    })(navigator.userAgent || navigator.vendor);\n    return check;\n  }\n\n  // Device detection logic\n  useEffect(() => {\n    if (isMobile || isTablet || isIPad13) {\n      document.body.style.height = `${window.innerHeight}px`;\n      const preventScroll = event => {\n        event.preventDefault();\n      };\n      // Prevent scrolling when a mobile/tablet device is detected\n      window.addEventListener('touchmove', preventScroll, {\n        passive: false\n      });\n      return () => {\n        // Clean up event listener on unmount\n        window.removeEventListener('touchmove', preventScroll);\n      };\n    }\n  }, []);\n\n  // progress bar animation\n  useEffect(() => {\n    let interval = setInterval(() => {\n      setProgress(prevProgress => {\n        if (prevProgress >= 100) {\n          setStep(0); // reset the step as well\n          return 0; // this line should be removed when connecting to the actual server\n        }\n\n        return prevProgress + 20;\n      });\n    }, 1000); // increase progress every 1 second\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    stepTimeoutRef.current && clearTimeout(stepTimeoutRef.current);\n    if (progress >= (step + 1) * 20) {\n      stepTimeoutRef.current = setTimeout(() => {\n        setStep(step + 1);\n      }, 100);\n    }\n  }, [progress, step]);\n\n  // maintain page after exiting keyboard\n  useEffect(() => {\n    if (isInputFocused) {\n      document.body.classList.add('prevent-scroll');\n    } else {\n      document.body.classList.remove('prevent-scroll');\n    }\n  }, [isInputFocused]);\n  const handleClick = isFirstTime => {\n    setFirstTimeUser(isFirstTime);\n    setActiveButton(isFirstTime ? 'yes' : 'no');\n  };\n  const handleConsent = () => {\n    setConsentAccepted(!consentAccepted);\n  };\n\n  // hook for transitioning form from username input to password input\n  const handleFormTransition = () => {\n    if (formStep === 1) {\n      if (userName && firstTimeUser !== null && consentAccepted) {\n        setFormStep(2);\n        setError('');\n      } else {\n        setError('Please complete all fields before proceeding.');\n      }\n    } else if (formStep === 2) {\n      if (password) {\n        setFormStep(3);\n        setError('');\n      } else {\n        setError('Please enter a password before proceeding.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: popUpVisible ? \"PopUp\" : \"PopUp hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoPng,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 7\n      }, this), formStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"PopUpContent fadeIn\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputPrompt\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"ENTER YOUR NAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"userNameInput\",\n            type: \"text\",\n            value: userName,\n            onFocus: () => setInputFocused(true),\n            onBlur: () => setInputFocused(false),\n            onChange: e => setUserName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"firstTimeToggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"IS THIS YOUR FIRST TIME USING PALATIAL? \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"toggleButtons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `yesButton ${activeButton === 'yes' ? 'active' : ''}`,\n              onClick: () => handleClick(true),\n              children: \"YES\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `noButton ${activeButton === 'no' ? 'active' : ''}`,\n              onClick: () => handleClick(false),\n              children: \"NO\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"consentCTA\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"consentCheckBox\",\n            onClick: handleConsent,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: consentAccepted,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"By clicking this box, I\\u2019m accepting the Terms and Conditions of using this platform.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"proceedButton\",\n          onClick: handleFormTransition,\n          children: \"PROCEED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this), formStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"PopUpContent fadeIn\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputPrompt\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"ENTER YOUR PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"passwordInput\",\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"join\",\n          className: \"proceedButton\",\n          onClick: handleSubmit,\n          children: \"SUBMIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n      progress: progress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loadingStep\",\n      children: loadingSteps[step]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"5Ab59TEFNF1EkEPkxUBavEPxmxI=\", false, function () {\n  return [useDeviceDetect];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","isDesktop","isIPad13","isTablet","isMobile","osName","browserName","logoPng","ProgressBar","useDeviceDetect","handleSubmit","jsxDEV","_jsxDEV","Object","defineProperty","exports","value","libspsfrontend","require","NativeDOMDelegate_1","App","_s","device","popUpVisible","setPopUpVisible","userName","setUserName","firstTimeUser","setFirstTimeUser","activeButton","setActiveButton","consentAccepted","setConsentAccepted","progress","setProgress","step","setStep","formStep","setFormStep","password","setPassword","error","setError","isInputFocused","setInputFocused","loadingSteps","stepTimeoutRef","signallingServerAddress","signallingServerProtocol","window","location","protocol","application","hostname","split","length","test","console","log","document","querySelector","style","opacity","epicRegex","app","match","playerElement","getElementById","config","CreateConfig","enableSpsAutoConnect","enableSpsAutoplay","controlScheme","ControlSchemeType","HoveringMouse","suppressBrowserKeys","afkTimeout","fakeMouseWithTouches","body","onload","delegate","NativeDOMDelegate","appName","RTCPlayer","create","webRtcPlayerController","signalingAddress","Config","documentElement","isIOS","navigator","userAgent","createOnScreenKeyboardHelpers","htmlElement","hiddenInput","editTextButton","createElement","id","type","autocomplete","autocapitalize","width","appendChild","addEventListener","event","slice","lastChar","inputType","onkeypress","KeyboardEvent","charCode","charCodeAt","keyCode","blur","innerHTML","classList","add","e","focus","setSelectionRange","preventDefault","DataChannelController","check","a","substr","vendor","height","innerHeight","preventScroll","passive","removeEventListener","interval","setInterval","prevProgress","clearInterval","current","clearTimeout","setTimeout","remove","handleClick","isFirstTime","handleConsent","handleFormTransition","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onFocus","onBlur","onChange","target","required","onClick","checked","readOnly","_c","$RefreshReg$"],"sources":["C:/Users/employee/Palatial-Web-Loading/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { isDesktop, isIPad13, isTablet, isMobile, osName, browserName } from 'react-device-detect';\nimport './App.css';\nimport logoPng from './assets/Images/png/Palatial-Logo_White 1.png';\nimport ProgressBar from './components/ProgressBar';\nimport useDeviceDetect from './hooks/useDeviceDetect';\nimport handleSubmit from './utils/handleSubmit';\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar libspsfrontend = require(\"backend-dom-components\");\nvar NativeDOMDelegate_1 = require(\"./NativeDOMDelegate\");\n\nfunction App() {\n\n  // State management\n  const { device } = useDeviceDetect();\n  const [popUpVisible, setPopUpVisible] = useState(true);\n  /*const { serverResponseMessage, popUpVisible, checkPassword } = usePasswordValidation();*/ //password validation resutl from server\n  const [userName, setUserName] = useState('');\n  const [firstTimeUser, setFirstTimeUser] = useState(null);\n  const [activeButton, setActiveButton] = useState(null);\n  const [consentAccepted, setConsentAccepted] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [step, setStep] = useState(0);\n  const [formStep, setFormStep] = useState(1);\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [isInputFocused, setInputFocused] = useState(false);\n  // add the names of the actual loading steps to the following and change the progress bar step value to 100/# of actual steps at :89 and :96\n  const loadingSteps = ['Loading assets', 'Setting up', 'Connecting to server', 'Finalizing', 'Done']; // Add your loading steps here\n  const stepTimeoutRef = useRef();\r\n\r\n\r\n    //uncomment this block for passing password validation msg in order to trigger window fadeout\r\n\r\n    /*const checkPassword = async (password) => {\r\n      // simulate a call to the server to check the password\r\n      const passwordIsCorrect = await someServerFunction(password);\r\n       setPopUpVisible(false);\r\n      if (!passwordIsCorrect) {\r\n        setServerResponseMessage('Password incorrect, please try again');\r\n      } else {\r\n        setServerResponseMessage('Success!');\r\n        setPopUpVisible(false); // hides the PopUp div\r\n      }\r\n    };*/\r\n\r\n    var signallingServerAddress = '';\r\n    if (signallingServerAddress == '') {\r\n        // define our signallingServerProtocol to be used based on whether\r\n        // or not we're accessing our frontend via a tls\r\n        var signallingServerProtocol = 'ws:';\r\n        if (window.location.protocol ===\r\n            'https:') {\r\n            signallingServerProtocol = 'wss:';\r\n        }\r\n        var application = window.location.hostname.split('.');\r\n        if (application.length === 0 || /^[a-zA-Z0-9]+$/.test(application[0])) {\r\n            application = \"demo\";\r\n        }\r\n        // build the websocket endpoint based on the protocol used to load the frontend\r\n        signallingServerAddress = signallingServerProtocol + '//' + 'sps.tenant-palatial-platform.lga1.ingress.coreweave.cloud/' +\r\n            application;\r\n        // if the frontend for an application is served from a base-level domain\r\n        // it has a trailing slash, so we need to account for this when appending the 'ws' for the websocket ingress\r\n        signallingServerAddress += '/ws';\r\n        console.log(signallingServerAddress);\r\n    }\r\n    if (isMobile()) {\r\n        //document.getElementById('fullscreen-btn').style.display = 'flex';\r\n        document.querySelector('.tooltiptext').style.opacity = '0';\r\n    }\r\n    var epicRegex = /\\/([a-zA-Z0-9_-]+)\\/ws$/;\r\n    var app = signallingServerAddress.match(epicRegex);\r\n    // prep the player div element\r\n    var playerElement = document.getElementById(\"player\");\r\n    // Create a config object\r\n    var config = CreateConfig(signallingServerAddress, playerElement);\r\n    config.enableSpsAutoConnect = true;\r\n    config.enableSpsAutoplay = true;\r\n    config.controlScheme = libspsfrontend.ControlSchemeType.HoveringMouse;\r\n    config.suppressBrowserKeys = true;\r\n    config.afkTimeout = 600;\r\n    config.fakeMouseWithTouches = false;\r\n\r\n    document.body.onload = function () {\r\n        /*document.getElementById('join').addEventListener('click', () => {\r\n            console.log('whaaa');\r\n        });*/\r\n    };\r\n\r\n    // Create a Native DOM delegate instance that implements the Delegate interface class\r\n    var delegate = new NativeDOMDelegate_1\r\n        .NativeDOMDelegate(config);\r\n    if (app) delegate.appName = app[1];\r\n    // Create and return a new webRtcPlayerController instance\r\n    var RTCPlayer = create(config,\r\n        delegate);\r\n    // create takes in a delegate interface type which our NativeDomDelegate class implements\r\n    function create(config, delegate) {\r\n        return new libspsfrontend\r\n            .webRtcPlayerController(config,\r\n                delegate);\r\n    }\r\n    /*\r\n    document.addEventListener(\"touchmove\", (event: TouchEvent) => {\r\n        event.preventDefault();\r\n    }, { passive: false });\r\n    */\r\n    // Create a config object instance\r\n    function CreateConfig(signalingAddress,\r\n        playerElement) {\r\n        var config = new libspsfrontend\r\n            .Config(signalingAddress,\r\n                playerElement, isMobile());\r\n        return config;\r\n    }\r\n    // On a touch device we will need special ways to show the on-screen keyboard.\r\n    if ('ontouchstart' in document.documentElement) {\r\n        config.isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\r\n        createOnScreenKeyboardHelpers(playerElement);\r\n    }\r\n\r\n    function createOnScreenKeyboardHelpers(\r\n        htmlElement) {\r\n        var hiddenInput = null;\r\n        var editTextButton = null;\r\n        if (document.getElementById(\r\n            'hiddenInput') === null) {\r\n            hiddenInput = document\r\n                .createElement('input');\r\n            hiddenInput.id = 'hiddenInput';\r\n            //hiddenInput.maxLength = 0;\r\n            hiddenInput.type = 'text';\r\n            hiddenInput.autocomplete = \"off\";\r\n            hiddenInput.autocapitalize = \"off\";\r\n            if (!config.isIOS)\r\n                hiddenInput.style.width = \"0px\";\r\n            htmlElement.appendChild(\r\n                hiddenInput);\r\n        }\r\n        hiddenInput.addEventListener('input',\r\n            function (event) {\r\n                if (hiddenInput.value.length >\r\n                    1) {\r\n                    hiddenInput.value =\r\n                        hiddenInput.value.slice(1);\r\n                }\r\n                var lastChar = hiddenInput\r\n                    .value[0];\r\n                if (!config.isIOS && event\r\n                    .inputType !=\r\n                    'deleteContentBackward')\r\n                    document.onkeypress(\r\n                        new KeyboardEvent(\r\n                            \"keypress\", {\r\n                            charCode: lastChar\r\n                                .charCodeAt(0)\r\n                        }));\r\n            });\r\n        hiddenInput.addEventListener(\r\n            'keydown',\r\n            function (event) {\r\n                if (event.keyCode ===\r\n                    13\r\n                ) { // check if the key pressed is \"Enter\"\r\n                    hiddenInput\r\n                        .blur(); // remove the focus from the input element\r\n                }\r\n            });\r\n        if (document.getElementById(\r\n            'editTextButton') === null) {\r\n            editTextButton = document\r\n                .createElement('button');\r\n            editTextButton.id =\r\n                'editTextButton';\r\n            editTextButton.innerHTML = 'edit';\r\n            htmlElement.appendChild(\r\n                editTextButton);\r\n            // Hide the 'edit text' button.\r\n            editTextButton.classList.add(\r\n                'hiddenState');\r\n            editTextButton.addEventListener(\r\n                \"touchend\", (function (e) {\r\n                    hiddenInput.focus();\r\n                    hiddenInput\r\n                        .setSelectionRange(\r\n                            hiddenInput.value\r\n                                .length, hiddenInput\r\n                                    .value.length);\r\n                    editTextButton.classList\r\n                        .add('hiddenState');\r\n                    e.preventDefault();\r\n                }));\r\n        }\r\n        libspsfrontend.DataChannelController\r\n            .hiddenInput = hiddenInput;\r\n        libspsfrontend.DataChannelController\r\n            .editTextButton = editTextButton;\r\n    }\r\n\r\n    function isMobile() {\r\n        var check = false;\r\n        (function (a) {\r\n            if (\r\n                /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i\r\n                    .test(a) ||\r\n                /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i\r\n                    .test(a.substr(0, 4)))\r\n                check = true;\r\n        })(navigator.userAgent || navigator\r\n            .vendor);\r\n        return check;\r\n    }\n\n\n\n  // Device detection logic\n  useEffect(() => {\n    if (isMobile || isTablet || isIPad13) {\n      document.body.style.height = `${window.innerHeight}px`;\n      const preventScroll = event => {\n        event.preventDefault();\n      };\n      // Prevent scrolling when a mobile/tablet device is detected\n      window.addEventListener('touchmove', preventScroll, { passive: false });\n\n      return () => {\n        // Clean up event listener on unmount\n        window.removeEventListener('touchmove', preventScroll);\n      };\n    }\n  }, []);\n\n  // progress bar animation\n  useEffect(() => {\n    let interval = setInterval(() => {\n      setProgress((prevProgress) => {\n        if (prevProgress >= 100) {\n          setStep(0); // reset the step as well\n          return 0; // this line should be removed when connecting to the actual server\n        }\n        return prevProgress + 20;\n      });\n    }, 1000); // increase progress every 1 second\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    stepTimeoutRef.current && clearTimeout(stepTimeoutRef.current);\n    if (progress >= (step + 1) * 20) {\n      stepTimeoutRef.current = setTimeout(() => {\n        setStep(step + 1);\n      }, 100);\n    }\n  }, [progress, step]);\n\n  // maintain page after exiting keyboard\n  useEffect(() => {\n    if (isInputFocused) {\n      document.body.classList.add('prevent-scroll');\n    } else {\n      document.body.classList.remove('prevent-scroll');\n    }\n  }, [isInputFocused]);\n\n  const handleClick = isFirstTime => {\n    setFirstTimeUser(isFirstTime);\n    setActiveButton(isFirstTime ? 'yes' : 'no');\n  };\n\n  const handleConsent = () => {\n    setConsentAccepted(!consentAccepted);\n  };\n\n  // hook for transitioning form from username input to password input\n  const handleFormTransition = () => {\n    if (formStep === 1) {\n      if (userName && firstTimeUser !== null && consentAccepted) {\n        setFormStep(2);\n        setError('');\n      } else {\n        setError('Please complete all fields before proceeding.');\n      }\n    } else if (formStep === 2) {\n      if (password) {\n        setFormStep(3);\n        setError('');\n      } else {\n        setError('Please enter a password before proceeding.');\n      }\n    }\n  };\n\n\n  return (\n    <div className=\"App\">\n      <div className={popUpVisible ? \"PopUp\" : \"PopUp hidden\"}>\n      <div className=\"Logo\">\n          <img src={logoPng} alt='logo'/>\n        </div>\n        {formStep === 1 && (\n          <div className='PopUpContent fadeIn'>\n            <div className=\"inputPrompt\">\n              <p>ENTER YOUR NAME</p>\n              <input\n                className=\"userNameInput\"\n                type=\"text\"\n                value={userName}\n                onFocus={() => setInputFocused(true)}\n                onBlur={() => setInputFocused(false)}\n                onChange={(e) => setUserName(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"firstTimeToggle\">\n              <p>IS THIS YOUR FIRST TIME USING PALATIAL? </p>\n              <div className=\"toggleButtons\">\n                <button className={`yesButton ${activeButton === 'yes' ? 'active' : ''}`} onClick={() => handleClick(true)}>YES</button>\n                <button className={`noButton ${activeButton === 'no' ? 'active' : ''}`} onClick={() => handleClick(false)}>NO</button>\n              </div>\n            </div>\n            <div className=\"consentCTA\">\n              <div className=\"consentCheckBox\" onClick={handleConsent}>\n                <input type=\"checkbox\" checked={consentAccepted} readOnly />\n                <p>By clicking this box, I’m accepting the Terms and Conditions of using this platform.</p>\n              </div>\n            </div>\n            <button className=\"proceedButton\" onClick={handleFormTransition}>PROCEED</button>\n          </div>\n        )}\n        {formStep === 2 && (\n          <div className='PopUpContent fadeIn'>\n            <div className=\"inputPrompt\">\n              <p>ENTER YOUR PASSWORD</p>\n              <input\n                className=\"passwordInput\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            <button id=\"join\" className=\"proceedButton\" onClick={handleSubmit}>SUBMIT</button>\n          </div>\n        )}\n        {error && <p className=\"error\">{error}</p>}\n      </div>\n      <ProgressBar progress={progress} />\n      <div className=\"loadingStep\">\n        {loadingSteps[step]}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}